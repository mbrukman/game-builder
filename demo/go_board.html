<html>
<head>
  <link href="../data/css/go.css" rel="stylesheet">
  <script src="../src/js/gamebuilder.js"></script>
  <script src="../src/js/util/util.js"></script>
  <script src="../src/js/games/games.js"></script>
  <script src="../src/js/games/go/go.js"></script>
</head>
<body>

  <div id='board'></div>

  <script>
    var games = gamebuilder.games;
    var go = games.go;

    function placeRandomPieces(board, num_pieces) {
      for (var i = 0; i < num_pieces; ++i) {
        var color = (Math.random() < 0.5) ?
            go.PieceColor.BLACK : go.PieceColor.WHITE;
        var x = Math.floor(Math.random() * 19);
        var y = Math.floor(Math.random() * 19);
        board.placePieceColor(color, games.coordsToStringPos([x, y]));
      }
    }
    /**
     * @param {gameboard.games.go.Board} board The board controller.
     * @param {HTMLTableElement} table The visible board.
     * @param {Array.<number>} coords Board-relative coordinates.
     */
    function placePiece(board, table, coords) {
      var pos = games.coordsToStringPos(coords);
      board.placeColorAtPos(gamebuilder.games.go.PieceColor.WHITE, pos);
      board.update(table);
    }

    var image_path = '../data/images/go';
    var board = new go.Board(image_path);

    // Create and display the board.
    var table = board.create(image_path);
    document.getElementById('board').appendChild(table);

    board.placeColorAtPos(go.PieceColor.BLACK, 'a2');
    board.placeColorAtPos(go.PieceColor.WHITE, 'b3');
    board.placeColorAtPos(go.PieceColor.BLACK, 'c4');

    board.update(table);

    board.bindEmptyCells(table, placePiece);
  </script>

</body>
</html>
