var i=null,k=this;function l(a,c){var b=a.split("."),d=k;!(b[0]in d)&&d.execScript&&d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)!b.length&&void 0!==c?d[e]=c:d=d[e]?d[e]:d[e]={}}function m(a,c){function b(){}b.prototype=c.prototype;a.h=c.prototype;a.prototype=new b};function o(a){return"undefined"!=typeof a&&a!=i}function p(a,c){for(var b=1;b<arguments.length;++b)if(o(a.match("%s")))a=a.replace(/%s/,arguments[b]);else throw Error("Too many positional arguments to fill format string: "+a);if(o(a.match("%s")))throw Error("Not enough positional arguments to fill in format string: "+a);return a};function q(a){this.c=a}q.prototype.color=function(){return this.c};function r(a,c){this.a=[];for(var b=0;b<c;++b){this.a[b]=[];for(var d=0;d<a;++d)this.a[b][d]=i}}function s(a,c,b){if(2>b.length)throw Error("Invalid format of coordinates: "+b);b=[b.charCodeAt(0)-97,b.substr(1,b.length)-1];t(a,b);a.a[b[0]][b[1]]=c}function t(a,c){if(0>c[0]||a.a.length<=c[0]||0>c[1]||a.a[0].length<=c[1])throw Error(p("Invalid coords (%s, %s) for board (%s x %s)",c[0],c[1],a.a.length,a.a[0].length));}
function u(a,c){t(a,c);return a.a[c[0]][c[1]]};function v(a){this.c=a}var w=new v("white"),x=new v("black");function y(a){this.c=this.c=a}m(y,q);y.prototype.color=function(){return this.c};function z(a,c){r.call(this,a,c)}m(z,r);function A(a){r.call(this,a,a)}m(A,z);function B(){A.call(this,9)}m(B,A);function C(a){this.a=a;this.e=document.createElement("table");this.f=!1;this.b=""}C.prototype.g=function(a){this.b=a};l("gamebuilder.games.go.ui.BoardUI.prototype.setImagePath",C.prototype.g);C.prototype.d=function(a){if(o(a)){if(a.color()==x)return p("%s/black.png",this.b);if(a.color()==w)return p("%s/white.png",this.b);throw Error("Invalid color of piece: "+a.color());}return p("%s/clear.png",this.b)};l("gamebuilder.games.go.ui.BoardUI.prototype.imagePathForPiece",C.prototype.d);
function D(a,c){var b=document.createElement("img");b.src=a.d(c);b.style.width=b.style.height="50px";return b}
function E(a){if(!a.f&&!a.f){if(""==a.b)throw Error("Error: call go.BoardUI.setImagePath() prior to calling go.BoardUI.init()");var c=a.a,b=a.e;b.cellSpacing=0;b.cellPadding=0;b.style.border="0";for(var d=c.a.length,e=c.a[0].length,f=d-1;0<=f;--f)for(var n=b.insertRow(-1),g=0;g<e;++g){var j=document.createElement("td"),h="",h=f==e-1?"upper-":0==f?"bottom-":"center-",h=0==g?h+"left":g==d-1?h+"right":h+"middle",h=h+".png";j.style.backgroundImage=p("url(%s/%s)",a.b,h);j.style.width=j.style.height="50px";
j.appendChild(D(a,u(c,[g,f])));n.appendChild(j)}a.f=!0}return a.e}function F(a,c){return[c[1],a.a.a.length-c[0]-1]}C.prototype.update=function(){for(var a=this.a,c=this.e,b=0;b<c.rows.length;++b)for(var d=c.rows[b],e=0;e<d.childNodes.length;++e){var f=d.childNodes[e].childNodes[0],n=u(a,F(this,[b,e]));if(f.src!=this.d(n))f.src=this.d(n)}};function G(a,c,b){var d=H;return function(){d(a,c,b)}};var I=x,J=[[x,"blackPiece"],[w,"whitePiece"],[i,"emptyPiece"]];function K(){for(var a=0;a<J.length;++a)document.getElementById(J[a][1]).className=I==J[a][0]?"sel":"notsel"}function H(a,c,b){o(I)?s(c,new y(I),b):s(c,i,b);a.update();K()}function L(a){return function(){I=a;K()}}function M(a){a=String.fromCharCode(a.which).toLowerCase();"b"==a?I=x:"w"==a?I=w:"e"==a&&(I=i);K()}
l("demo.go.board.displayGoBoard",function(){var a=new B,a=new C(a);a.g("../data/images/go");document.getElementById("board").appendChild(E(a));for(var c=0;c<J.length;++c){var b=J[c][0],d=i;o(b)&&(d=new y(b));d=D(a,d);d.onclick=L(b);document.getElementById(J[c][1]).appendChild(d)}a.update();c=a.a;b=a.e;for(d=0;d<b.rows.length;++d)for(var e=b.rows[d],f=0;f<e.childNodes.length;++f){var n=e.childNodes[f].childNodes[0],g=F(a,[d,f]),j=p("%s%s",String.fromCharCode(97+g[0]),g[1]+1),g=u(c,g);if("undefined"==
typeof g||g==i)n.onclick=G(a,c,j)}K();document.onkeypress=M});
